"use strict";var _createClass=function(){function s(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}define(["SwiftOtter_Test/js/renderer/slide/previous-button.babel","SwiftOtter_Test/js/ga.babel","SwiftOtter_Theme/js/field.babel","SwiftOtter_Test/js/api.babel","SwiftOtter_Test/js/token-management.babel"],function(i,t,e,s,r){function a(t){var e=this;t.querySelector(".test-question__complete").addEventListener("click",function(t){return function(t){var e=this,n=document.querySelector('.test-questions [data-question-id="'+this.data.id+'"]'),s=n.querySelectorAll("input:checked"),i=Array.prototype.reduce.call(s,function(t,e){return t[e.getAttribute("name")]=e.value,t},{}),a=n.querySelectorAll('textarea,input[type="text"');if(Array.prototype.forEach.call(a,function(t){i[t.getAttribute("name")]=t.value}),0!==Object.keys(i).length)return r.getToken().then(function(t){return e.api.survey(t.client_id,jsonConfig.id,i)});n.querySelector(".test-question__error").style.display="block"}.call(e,t)})}return function(){function n(t,e){_classCallCheck(this,n),this.config=t,this.data=e,this.api=new s({urls:{}})}return _createClass(n,[{key:"render",value:function(t,e,n){var s=function(t,e,n){var s='\n        <li class="test-question test-question--block test-question--'+this.data.output_type+'" data-question-id="'+this.data.id+'">\n            <h2 class="test-question__title">'+this.data.question+'</h2>\n            <div class="test-question__subtext">'+this.data.subtext+'</div>\n            <div class="test-question__error" style="display: none">You must answer the questions.</div>\n            <div class="test-question__buttons">\n                <button class="test-question__complete test-question__cta-button info-button" data-question-id="'+this.data.id+'">Grade Test</button>\n                '+i(this.data,t,e)+"\n            </div>\n        </li>\n      ";return document.createRange().createContextualFragment(s)}.call(this,t,e,n);return this.el=s,a.call(this,s),s}}]),n}()});